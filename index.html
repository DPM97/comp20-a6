<!DOCTYPE html>
<html>
<body>
  <h1>Calculate Amicability</h1>
  <form id="form1">
    <input id='num1' placeholder="42" type="text"></input>
    <input id='num2' placeholder="92" type="text"></input>
    <button type="submit">Calculate</button>
  </form>
  <div id="mainBody"></div>
</body>
<script>

  document.getElementById("form1").addEventListener('submit', (e) => {
    e.preventDefault()
    document.getElementById('mainBody').innerHTML = ''
    display()

    const n1 = document.getElementById('num1').value
    const n2 = document.getElementById('num2').value

    const a1 = getFactors(n1)
    const a2 = getFactors(n2)

    showArray(a1)
    const s1 = addArray(a1)
    document.getElementById('mainBody').innerHTML += ` = ${s1}`
    document.getElementById('mainBody').innerHTML += '<br/><br/>'
    const s2 = addArray(a2)
    showArray(a2)
    document.getElementById('mainBody').innerHTML += ` = ${s2}`

    if (s1 == n2 && s2 == n1) {
      document.getElementById('mainBody').innerHTML +=
        '<h3>These numbers are amicable!</h3>'
    } else {
      document.getElementById('mainBody').innerHTML +=
        '<h3>These numbers are not amicable!</h3>'
    }
  })

  const display = () => {
    document.getElementById('mainBody').innerHTML +=
      `<h3>Number 1: ${document.getElementById('num1').value}</h3>`
    document.getElementById('mainBody').innerHTML +=
      `<h3>Number 2: ${document.getElementById('num2').value}</h3><br/>`
  }

  const isFactor = (num, posFactor) => {
    return (num % posFactor == 0) ? true : false
  }

  const showArray = (arr) => {
    document.getElementById('mainBody').innerHTML += arr.join(' + ')
  }

  // showArray([1,2,3,4,5]);

  const addArray = (arr) => {
    let sum = 0
    arr.forEach(e => sum += e)
    return sum;
  }

  // console.log(addArray([1, 2, 3]))

  const getFactors = (num) => {
    let arr = []
    for (let i = 1; i < num; i++) {
      if (isFactor(num, i)) arr.push(i);
    }
    return arr;
  }
</script>

</html>